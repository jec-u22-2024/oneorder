"use strict";(self["webpackChunktableorder4"]=self["webpackChunktableorder4"]||[]).push([[27],{2408:function(t,n,e){e.r(n),e.d(n,{default:function(){return L}});var s=e(6768),o=e(4232);const r={key:0,class:"accounting-wrap"},u=(0,s.Lk)("h2",null,"会計前画面",-1),i=(0,s.Lk)("tr",null,[(0,s.Lk)("th",null,"商品名"),(0,s.Lk)("th",null,"注文数"),(0,s.Lk)("th",null,"合計金額")],-1),l={key:1,class:"accounting-wrap"},c=(0,s.Lk)("section",null,[(0,s.Lk)("h2",null,"お会計待ちの状態です。"),(0,s.Lk)("p",null,"レジでお会計を行なってください。")],-1),a=[c];function d(t,n,e,c,d,h){return d.orders.length>0?((0,s.uX)(),(0,s.CE)("div",r,[u,(0,s.Lk)("table",null,[i,((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(d.orders,(t=>((0,s.uX)(),(0,s.CE)("tr",{key:t.name},[(0,s.Lk)("td",null,(0,o.v_)(t.name),1),(0,s.Lk)("td",null,(0,o.v_)(t.amount),1),(0,s.Lk)("td",null,(0,o.v_)(t.price),1)])))),128))]),(0,s.Lk)("button",{type:"button",onClick:n[0]||(n[0]=(...t)=>h.finishOrder&&h.finishOrder(...t))},"会計を行う")])):d.isAccounting?((0,s.uX)(),(0,s.CE)("div",l,a)):(0,s.Q3)("",!0)}var h=e(4821),g={name:"UserAccounting",data(){return{orders:[],isAccounting:!1}},mounted(){this.getStatus(),setTimeout((()=>{this.isAccounting?console.log("b"):(console.log("a"),this.getOrder())}),200)},methods:{getOrder(){const t=sessionStorage.getItem("table");t&&(0,h.A)(`/api/order/accounting/table/${t}`).then((t=>t.json())).then((t=>{this.orders=t}))},finishOrder(){const t=sessionStorage.getItem("table");t&&(0,h.A)(`/api/order/accounting/${t}`,"PUT"),this.orders=[],this.isAccounting=!0},getStatus(){const t=sessionStorage.getItem("table");t&&(0,h.A)(`/api/table/status/${t}`).then((t=>t.json())).then((t=>{"お会計待ち"===t.status?this.isAccounting=!0:this.isAccounting=!1}))}}},k=e(1241);const b=(0,k.A)(g,[["render",d]]);var L=b}}]);
//# sourceMappingURL=27.js.map
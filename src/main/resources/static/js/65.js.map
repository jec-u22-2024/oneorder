{"version":3,"file":"js/65.js","mappings":"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","sources":["webpack://tableorder4/./src/views/Kitchen/KitchenOrderView.vue","webpack://tableorder4/../../../src/card/style/CardStyle.js","webpack://tableorder4/../../src/card/BaseCard.vue","webpack://tableorder4/../../src/card/Card.vue","webpack://tableorder4/../../src/card/Card.vue?7fde","webpack://tableorder4/./src/views/Kitchen/KitchenOrderView.vue?518c"],"sourcesContent":["<template>\n    <main>\n        <div class=\"kitchen-grid\">\n            <!-- eslint-disable-next-line vue/require-v-for-key -->\n            <div class=\"col-12 md:col-6 lg:col-3\" v-for=\"(i) in order?.table_id\">\n                <Card>\n                    <template #title><span :style=\"{ backgroundColor: i.table_color }\">{{ i.table_name }}</span></template>\n                    <template #content>\n                        <span style=\"display: flex;\">\n                            <h1 class=\"m-0\" style=\"padding-right: 10px;\" v-if=\"i.count == 1\">\n                                1\n                            </h1>\n                            <h1 class=\"m-0\" style=\"color: #F87954; padding-right: 10px;\" v-else-if=\"i.count <= 10\">\n                                {{ i.count }}\n                            </h1>\n                            <h1 class=\"m-0\" style=\"color: #E91E63\" v-else>\n                                {{ i.count }}\n                            </h1>\n                            <div>\n                                {{ i.item_name }}\n                                <!-- {{ i.itemDetail.Merchandice.item_id }} -->\n                            </div>\n                        </span>\n                        <span style=\"display: flex; align-items: center; justify-content: space-between;\">\n                            <Button label=\"調理完了\" severity=\"info\" @click=\"cookingComplete(i.item_id)\"/>\n                            <span>{{ getElapsedTime(i.date) }}経過</span>\n                        </span>\n                    </template>\n                </Card>\n            </div>\n        </div>\n    </main>\n</template>\n\n<script>\n\n// 個人的にこのキッチン画面ユーザー側のフロントと相性悪い可能性がある\nimport Card from \"primevue/card\";\nimport Button from \"primevue/button\";\nimport Ajax from \"@/lib/Ajax\";\n\nexport default {\n    components: {\n        Card, Button\n    },\n    \n    data() {\n        return {\n            interval: null,\n            order: null,\n        }\n    },\n    \n    mounted() {\n        this.orderFetch();\n        this.interval = setInterval(() => {\n            this.orderFetch();\n            // this.itemFetch();\n        }, 5000);\n    },\n    \n    beforeUnmount() {\n        if(this.interval) {\n            clearInterval(this.interval);\n        }\n    },\n    \n    methods: {\n        orderFetch() {\n            // Ajax('https://s3.ap-northeast-1.wasabisys.com/jec/testOrder.json')\n            // Ajax('/assets/kitchen/testOrder.json')\n            Ajax('/api/kitchen/orders')\n            .then(res => res.json())\n            .then(dat => {\n                this.order = dat;\n            });\n        },\n        \n        itemFetch() {\n            if(this.order != null && this.order.table_id.length != 0) {\n                for(const i of this.order.table_id) {\n                    Ajax(`/api/kitchen/items/${i.item_id}`)\n                    .then(res => res.json())\n                    .then(dat => i.itemDetail = dat);\n                }\n            }\n        },\n        \n        cookingComplete(itemId) {\n            Ajax(`/api/kitchen/cooked/${itemId}`, 'PUT')\n            .then(res => {\n                if(res.status === 200) {\n                    this.orderFetch();\n                }\n            });\n        },\n        \n        // 経過時間を計算する関数\n        getElapsedTime(dateString) {\n            const now = new Date();\n            const date = new Date(dateString);\n            const diffInMs = now - date; // 現在時刻と指定した日時の差（ミリ秒）\n            const diffInMinutes = Math.floor(diffInMs / 1000 / 60); // ミリ秒を分に変換\n            if(diffInMinutes >= 60) {\n                const diffInHours = Math.floor(diffInMinutes / 60);\n                return diffInHours + '時間';\n            }\n            return diffInMinutes + '分';\n        }\n    }\n}\n</script>\n\n<style>\n.p-card {\n    max-height: 200px;\n    height: 100%;\n}\n\n.p-card-title {\n    text-align: left;\n}\n\n.p-card-title span {\n    font-size: 2rem;\n    font-weight: bold;\n}\n</style>\n","import BaseStyle from '@primevue/core/base/style';\n\nconst theme = ({ dt }) => `\n.p-card {\n    background: ${dt('card.background')};\n    color: ${dt('card.color')};\n    box-shadow: ${dt('card.shadow')};\n    border-radius: ${dt('card.border.radius')};\n    display: flex;\n    flex-direction: column;\n}\n\n.p-card-caption {\n    display: flex;\n    flex-direction: column;\n    gap: ${dt('card.caption.gap')};\n}\n\n.p-card-body {\n    padding: ${dt('card.body.padding')};\n    display: flex;\n    flex-direction: column;\n    gap: ${dt('card.body.gap')};\n}\n\n.p-card-title {\n    font-size: ${dt('card.title.font.size')};\n    font-weight: ${dt('card.title.font.weight')};\n}\n\n.p-card-subtitle {\n    color: ${dt('card.subtitle.color')};\n}\n`;\n\nconst classes = {\n    root: 'p-card p-component',\n    header: 'p-card-header',\n    body: 'p-card-body',\n    caption: 'p-card-caption',\n    title: 'p-card-title',\n    subtitle: 'p-card-subtitle',\n    content: 'p-card-content',\n    footer: 'p-card-footer'\n};\n\nexport default BaseStyle.extend({\n    name: 'card',\n    theme,\n    classes\n});\n","<script>\nimport BaseComponent from '@primevue/core/basecomponent';\nimport CardStyle from 'primevue/card/style';\n\nexport default {\n    name: 'BaseCard',\n    extends: BaseComponent,\n    style: CardStyle,\n    provide() {\n        return {\n            $pcCard: this,\n            $parentInstance: this\n        };\n    }\n};\n</script>\n","<template>\n    <div :class=\"cx('root')\" v-bind=\"ptmi('root')\">\n        <div v-if=\"$slots.header\" :class=\"cx('header')\" v-bind=\"ptm('header')\">\n            <slot name=\"header\"></slot>\n        </div>\n        <div :class=\"cx('body')\" v-bind=\"ptm('body')\">\n            <div v-if=\"$slots.title || $slots.subtitle\" :class=\"cx('caption')\" v-bind=\"ptm('caption')\">\n                <div v-if=\"$slots.title\" :class=\"cx('title')\" v-bind=\"ptm('title')\">\n                    <slot name=\"title\"></slot>\n                </div>\n                <div v-if=\"$slots.subtitle\" :class=\"cx('subtitle')\" v-bind=\"ptm('subtitle')\">\n                    <slot name=\"subtitle\"></slot>\n                </div>\n            </div>\n            <div :class=\"cx('content')\" v-bind=\"ptm('content')\">\n                <slot name=\"content\"></slot>\n            </div>\n            <div v-if=\"$slots.footer\" :class=\"cx('footer')\" v-bind=\"ptm('footer')\">\n                <slot name=\"footer\"></slot>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport BaseCard from './BaseCard.vue';\n\nexport default {\n    name: 'Card',\n    extends: BaseCard,\n    inheritAttrs: false\n};\n</script>\n","<template>\n    <div :class=\"cx('root')\" v-bind=\"ptmi('root')\">\n        <div v-if=\"$slots.header\" :class=\"cx('header')\" v-bind=\"ptm('header')\">\n            <slot name=\"header\"></slot>\n        </div>\n        <div :class=\"cx('body')\" v-bind=\"ptm('body')\">\n            <div v-if=\"$slots.title || $slots.subtitle\" :class=\"cx('caption')\" v-bind=\"ptm('caption')\">\n                <div v-if=\"$slots.title\" :class=\"cx('title')\" v-bind=\"ptm('title')\">\n                    <slot name=\"title\"></slot>\n                </div>\n                <div v-if=\"$slots.subtitle\" :class=\"cx('subtitle')\" v-bind=\"ptm('subtitle')\">\n                    <slot name=\"subtitle\"></slot>\n                </div>\n            </div>\n            <div :class=\"cx('content')\" v-bind=\"ptm('content')\">\n                <slot name=\"content\"></slot>\n            </div>\n            <div v-if=\"$slots.footer\" :class=\"cx('footer')\" v-bind=\"ptm('footer')\">\n                <slot name=\"footer\"></slot>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport BaseCard from './BaseCard.vue';\n\nexport default {\n    name: 'Card',\n    extends: BaseCard,\n    inheritAttrs: false\n};\n</script>\n","import { render } from \"./KitchenOrderView.vue?vue&type=template&id=21d9ae09\"\nimport script from \"./KitchenOrderView.vue?vue&type=script&lang=js\"\nexport * from \"./KitchenOrderView.vue?vue&type=script&lang=js\"\n\nimport \"./KitchenOrderView.vue?vue&type=style&index=0&id=21d9ae09&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","style","key","_createElementBlock","_createElementVNode","_hoisted_1","_Fragment","_renderList","$data","order","table_id","i","_hoisted_2","_createVNode","_component_Card","title","_withCtx","_normalizeStyle","backgroundColor","table_color","table_name","content","_hoisted_3","count","_hoisted_4","_hoisted_5","_toDisplayString","_hoisted_6","item_name","_hoisted_7","_component_Button","label","severity","onClick","$event","$options","cookingComplete","item_id","getElapsedTime","date","_","theme","_ref","dt","concat","classes","root","header","body","caption","subtitle","footer","CardStyle","BaseStyle","extend","name","script$1","extends","BaseComponent","provide","$pcCard","this","$parentInstance","script","inheritAttrs","openBlock","createElementBlock","mergeProps","_ctx","cx","ptmi","$slots","ptm","renderSlot","createCommentVNode","createElementVNode","components","Card","Button","data","interval","mounted","orderFetch","setInterval","beforeUnmount","clearInterval","methods","Ajax","then","res","json","dat","itemFetch","length","itemDetail","itemId","status","dateString","now","Date","diffInMs","diffInMinutes","Math","floor","diffInHours","__exports__","render"],"sourceRoot":""}
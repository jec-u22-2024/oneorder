"use strict";(self["webpackChunktableorder4"]=self["webpackChunktableorder4"]||[]).push([[534],{3534:function(e,t,r){r.r(t),r.d(t,{default:function(){return C}});var a=r(6768);const s={class:"com-wrap"};function o(e,t,r,o,n,l){const i=(0,a.g2)("HeaderField"),d=(0,a.g2)("RouterView"),c=(0,a.g2)("FooterField");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.bF)(i),(0,a.Lk)("div",s,[(0,a.bF)(d,{orders:n.orders,onAddData:l.addData,onResetCart:l.resetCart,onSetTable:l.setTable,onGetTable:l.getTable},null,8,["orders","onAddData","onResetCart","onSetTable","onGetTable"])]),(0,a.bF)(c)],64)}const n=(0,a.Lk)("img",{id:"logo",src:"/assets/img/transparent.png",alt:"OneOrder"},null,-1),l=[n];function i(e,t,r,s,o,n){return(0,a.uX)(),(0,a.CE)("header",null,l)}var d={name:"HeaderField"},c=r(1241);const b=(0,c.A)(d,[["render",i]]);var u=b;const m={class:"footer-field"};function h(e,t,r,s,o,n){const l=(0,a.g2)("RouterLink");return(0,a.uX)(),(0,a.CE)("footer",m,[(0,a.bF)(l,{class:"footer-btn",to:"./main"},{default:(0,a.k6)((()=>[(0,a.eW)("オーダー")])),_:1}),(0,a.bF)(l,{class:"footer-btn",to:"./cart"},{default:(0,a.k6)((()=>[(0,a.eW)("カート")])),_:1}),(0,a.bF)(l,{class:"footer-btn",to:"./hist"},{default:(0,a.k6)((()=>[(0,a.eW)("注文履歴")])),_:1})])}var f={name:"FooterField"};const g=(0,c.A)(f,[["render",h]]);var F=g,T=r(4821),p={name:"UserMaster",views:{},components:{HeaderField:u,FooterField:F},props:{ords:Array,table:String},data(){return{display:"",orders:{table:null,cart:[],transaction_date:null}}},mounted(){if(this.table){this.orders.table=this.table,this.orders.transaction_date=new Date;const e={status:"来店済み"};(0,T.A)(`/api/table/status/${this.table}`,"POST",e),sessionStorage.setItem("table",this.table)}else sessionStorage.getItem("table")&&(this.orders.table=sessionStorage.getItem("table"))},methods:{setTable(e){if(e)this.orders.table=e;else{const e=this.$emit("getMasterTable");this.orders.table=e}},getTable(){return this.$emit("getMasterTable")},addData(e){const t=this.orders.cart.filter((t=>t.item.merch_id==e.item.merch_id));t[0]?this.orders.cart.forEach((t=>{t.item.merch_id==e.item.merch_id&&(t.amount+e.amount<=20?t.amount+=e.amount:t.amount=20)})):this.orders.cart=this.orders.cart.concat(e)},resetCart(){this.orders.cart=[]}},emits:["setMasterTable"]};const k=(0,c.A)(p,[["render",o]]);var C=k}}]);
//# sourceMappingURL=534.js.map
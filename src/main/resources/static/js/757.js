"use strict";(self["webpackChunktableorder4"]=self["webpackChunktableorder4"]||[]).push([[757],{5757:function(e,t,r){r.r(t),r.d(t,{default:function(){return C}});var l=r(6768),n=r(4232);const o={key:0,class:"cart"},a=(0,l.Lk)("tr",null,[(0,l.Lk)("th",null,"商品名"),(0,l.Lk)("th",null,"商品画像"),(0,l.Lk)("th",null,"単価"),(0,l.Lk)("th",null,"注文数"),(0,l.Lk)("th",null,"削除")],-1),u=["src","alt"],d=["id"],s=["onClick"],i={key:1},c=(0,l.Lk)("h2",{class:"no-order"},"まだカートに何も入っていません",-1),m=[c];function k(e,t,r,c,k,h){const L=(0,l.g2)("InputNumber");return r.orders.cart.length>0?((0,l.uX)(),(0,l.CE)("div",o,[(0,l.Lk)("table",null,[a,((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(r.orders.cart,((e,t)=>((0,l.uX)(),(0,l.CE)("tr",{key:t},[(0,l.Lk)("td",null,(0,n.v_)(e.item.merch_name),1),(0,l.Lk)("td",null,[(0,l.Lk)("img",{class:"cart-img",src:"/"+e.item.image,alt:e.item.merch_name},null,8,u)]),(0,l.Lk)("td",null,(0,n.v_)(e.item.price)+"¥",1),(0,l.Lk)("td",null,[(0,l.Lk)("div",{id:t},[(0,l.bF)(L,{modelValue:e.amount,"onUpdate:modelValue":t=>e.amount=t,inputId:"minmax-buttons key"+t,mode:"decimal",showButtons:"",buttonLayout:"vertical",min:1,max:20,fluid:""},null,8,["modelValue","onUpdate:modelValue","inputId"])],8,d)]),(0,l.Lk)("td",null,[(0,l.Lk)("button",{type:"button",onClick:e=>h.removeOrder(t)},"削除",8,s)])])))),128))]),(0,l.Lk)("button",{class:"order-btn",type:"button",onClick:t[0]||(t[0]=(...e)=>h.doOrder&&h.doOrder(...e))},"注文する")])):((0,l.uX)(),(0,l.CE)("section",i,m))}var h=r(4821),L=r(1255),b={name:"CartField",components:{InputNumber:L.A},props:{orders:Object},data(){return{}},methods:{removeOrder(e){const t=this.orders.cart,r=this.orders.cart.filter((t=>t!=this.orders.cart[e]));for(let l=e;l<t.length;l++)r[l]?t[l]=r[l]:(t.reverse().shift(),t.reverse())},doOrder(){const e=this.orders,t=e;t.orderTime=(new Date).toLocaleString(),t.table?((0,h.A)("/api/order","POST",this.orders).then((e=>{console.log(e)})),alert("注文が完了しました。"),this.$emit("resetCart")):alert("テーブル情報がありません。")}},emits:["resetCart","addData","getTable"]},p=r(1241);const v=(0,p.A)(b,[["render",k]]);var C=v}}]);
//# sourceMappingURL=757.js.map
{"version":3,"file":"js/534.js","mappings":"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","sources":["webpack://tableorder4/./src/UserMaster.vue","webpack://tableorder4/./src/components/HeaderField.vue","webpack://tableorder4/./src/components/HeaderField.vue?12a1","webpack://tableorder4/./src/components/FooterField.vue","webpack://tableorder4/./src/components/FooterField.vue?107a","webpack://tableorder4/./src/UserMaster.vue?5329"],"sourcesContent":["<template>\n  <HeaderField/>\n\n  <div class=\"com-wrap\">\n    <RouterView :orders=\"orders\" @addData=\"addData\" @resetCart=\"resetCart\" @setTable=\"setTable\" @getTable=\"getTable\"/>\n  </div>\n\n  <FooterField/>\n</template>\n\n<script>\n// O-ra¥der\n\nimport HeaderField from './components/HeaderField.vue';\nimport FooterField from './components/FooterField.vue';\nimport Ajax from './lib/Ajax';\nexport default {\n  name: 'UserMaster',\n  views: {\n  },\n  components: {\n    HeaderField, FooterField // component\n  },\n  props: {\n    ords: Array, // 特に意味なし\n    table: String\n  },\n  data() {\n    return {\n      display: '',\n      orders: {\n        table: null,\n        cart: [],\n        transaction_date: null\n      }\n    }\n  },\n  mounted() {\n    if(this.table) {\n      this.orders.table = this.table;\n      this.orders.transaction_date = new Date();\n      const sendData = {\n        status: '来店済み'\n        // transaction_date: this.orders.transaction_date.toLocaleString()\n      };\n      Ajax(`/api/table/status/${this.table}`, 'POST', sendData);\n      sessionStorage.setItem('table', this.table);\n    } else if(sessionStorage.getItem('table')) {\n      this.orders.table = sessionStorage.getItem('table');\n    }\n  },\n  methods: {\n    setTable(table) {\n      if(!table) {\n        const tb = this.$emit('getMasterTable');\n        this.orders.table = tb;\n      } else {\n        this.orders.table = table;\n      }\n    },\n\n    getTable() {\n      return this.$emit('getMasterTable');\n    },\n\n    addData(data) {\n      const filtered = this.orders.cart.filter(elm => {\n        return elm.item.merch_id == data.item.merch_id;\n      });\n      \n      if(filtered[0]) {\n        this.orders.cart.forEach(elm => {\n          if(elm.item.merch_id == data.item.merch_id) {\n            if((elm.amount + data.amount) <= 20) {\n              elm.amount += data.amount;\n            } else {\n              elm.amount = 20;\n            }\n          }\n        });\n      } else {\n        this.orders.cart = this.orders.cart.concat(data);\n      }\n    },\n\n    resetCart() {\n      this.orders.cart = [];\n    }\n  },\n  emits:[\n    'setMasterTable'\n  ]\n}\n</script>\n","<template>\n<header>\n    <img id=\"logo\" src=\"/assets/img/transparent.png\" alt=\"OneOrder\">\n\n    <!-- ユーザー画面に何か特殊なものが増えないならこのリストはなくなると思う。 -->\n    <!-- <ul class=\"nav\">\n        <li><RouterLink to=\"./callStaff\">店員呼び出し</RouterLink></li>\n        <li><a href=\"./\">aaa</a></li>\n        <li><a href=\"./\">aaa</a></li>\n        <li><a href=\"./\">aaa</a></li>\n    </ul> -->\n</header>\n</template>\n\n<script>\nexport default {\n    name:'HeaderField'\n}\n</script>\n","import { render } from \"./HeaderField.vue?vue&type=template&id=21b94eb1\"\nimport script from \"./HeaderField.vue?vue&type=script&lang=js\"\nexport * from \"./HeaderField.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n<footer class=\"footer-field\">\n    <RouterLink class=\"footer-btn\" to=\"./main\">オーダー</RouterLink>\n    <RouterLink class=\"footer-btn\" to=\"./cart\">カート</RouterLink>\n    <RouterLink class=\"footer-btn\" to=\"./hist\">注文履歴</RouterLink>\n</footer>\n</template>\n\n<script>\nexport default {\n    name:'FooterField'\n}\n</script>\n","import { render } from \"./FooterField.vue?vue&type=template&id=25e1cc1d\"\nimport script from \"./FooterField.vue?vue&type=script&lang=js\"\nexport * from \"./FooterField.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./UserMaster.vue?vue&type=template&id=00e944a6\"\nimport script from \"./UserMaster.vue?vue&type=script&lang=js\"\nexport * from \"./UserMaster.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementBlock","_Fragment","_createVNode","_component_HeaderField","_createElementVNode","_hoisted_1","_component_RouterView","orders","$data","onAddData","$options","addData","onResetCart","resetCart","onSetTable","setTable","onGetTable","getTable","_component_FooterField","id","src","alt","_hoisted_2","name","__exports__","_component_RouterLink","to","default","_withCtx","_createTextVNode","_","views","components","HeaderField","FooterField","props","ords","Array","table","String","data","display","cart","transaction_date","mounted","this","Date","sendData","status","Ajax","sessionStorage","setItem","getItem","methods","tb","$emit","filtered","filter","elm","item","merch_id","forEach","amount","concat","emits","render"],"sourceRoot":""}
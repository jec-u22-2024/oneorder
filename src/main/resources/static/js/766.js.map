{"version":3,"file":"js/766.js","mappings":"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","sources":["webpack://tableorder4/./src/views/Regi/ItemList.vue","webpack://tableorder4/./src/views/Regi/ItemList.vue?5f46"],"sourcesContent":["<template>\n    <div class=\"item-wrap\">\n        <h1>商品一覧</h1>\n        <div class=\"button-container\">\n            <button class=\"add-button\" @click=\"add\">追加する</button>\n        </div>\n        <div class=\"grid\">\n            <table id=\"itemLayout\">\n                <thead>\n                    <tr>\n                        <th>カテゴリー</th>\n                        <th>商品名</th>\n                        <th>商品画像</th>\n                        <th>価格</th>\n                        <th>表示</th>\n                        <th></th>\n                        <th></th>\n                    </tr>\n                </thead>\n                <tbody v-if=\"merchandices.length > 0\">\n                    <tr class=\"item-row\" v-for=\"(merchandice, value) in merchandices\" :key=\"value\" :id=\"value\">\n                        <td v-if=\"merchandice.category != null\"><div class=\"category-box\" :style=\"'background:' + merchandice.colorCode + ';'\">{{ merchandice.category }}</div></td>\n                        <td v-else><div class=\"category-box\" style=\"background: #777;\">未設定</div></td>\n                        <td class=\"merchandice-name\">{{ merchandice.itemName }}</td>\n                        <td><img class=\"item-image\" :src=\"'/' + merchandice.itemImage\" alt=\"\"></td>\n                        <td>¥{{ merchandice.price }}</td>\n                        <td v-if=\"merchandice.display\"><button class=\"display-btn\" @click=\"toggleDisplay(merchandice)\">表示</button></td>\n                        <td v-else><button class=\"display-btn hide\" @click=\"toggleDisplay(merchandice)\">非表示</button></td>\n                        <td><i class=\"fa-lg fa-solid fa-pen-to-square edit-button\" @click=\"edit(merchandice)\"></i></td>\n                        <td><i class=\"fa-lg fa-solid fa-trash delete-button\" @click=\"removeItem(merchandice)\"></i></td>\n                    </tr>\n                    <!-- データ行がここに挿入されます -->\n                </tbody>\n            </table>\n        </div>\n    </div>\n</template>\n\n<script>\nimport Ajax from '@/lib/Ajax';\n\n// 3\nexport default {\n    data() {\n        return {\n            merchandices: []\n        }\n    },\n    mounted() {\n        this.getItems();\n        this.$emit('setDisplay', 'items');\n    },\n    emits:[\n        'setDisplay',\n        'openPop',\n        'setData'\n    ],\n    methods: {\n\n        /**\n         * 商品一覧を取得する処理\n         * GET\n         */\n        getItems() {\n            // Ajax('/assets/json/merchandice/item_list.json')\n            Ajax('/api/master/merchandices')\n            .then(res => res.json())\n            .then(data => {\n                this.merchandices = data;\n            });\n        },\n\n        /**\n         * ユーザー画面の商品表示を切り替える処理\n         * PUT\n         * @param {*} merch\n         */\n        toggleDisplay(merch) {\n            if(merch.display) {\n                merch.display = false;\n            } else {\n                merch.display = true;\n            }\n            Ajax('/api/master/merchandice', 'PUT', merch);\n            this.getItems();\n        },\n\n        /**\n         * \n         * DELETE\n         * @param {*} e \n         */\n        removeItem(merch) {\n            const rows = document.querySelectorAll('.item-row');\n            const convArrRows = [].map.call(rows, elm => {\n                return elm;\n            });\n            \n            const mrow = convArrRows.filter(elm => {\n                return elm.querySelector('.merchandice-name').textContent === merch.itemName;\n            })[0];\n\n            if(mrow) {\n                mrow.remove();\n                Ajax('/api/master/merchandice', 'DELETE', merch);\n                this.getItems();\n            }\n        },\n\n        edit(item) {\n            this.$emit('setData', item);\n            this.$emit('openPop');\n        },\n\n        add() {\n            this.$emit('setData', null);\n            this.$emit('openPop');\n        }\n    }\n}\n</script>\n\n<style>\n.item-image {\n    /* width: 30%; */\n    width: 8rem;\n}\n</style>\n","import { render } from \"./ItemList.vue?vue&type=template&id=27a9bdcd\"\nimport script from \"./ItemList.vue?vue&type=script&lang=js\"\nexport * from \"./ItemList.vue?vue&type=script&lang=js\"\n\nimport \"./ItemList.vue?vue&type=style&index=0&id=27a9bdcd&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","id","key","style","_hoisted_11","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","onClick","_cache","args","$options","add","_hoisted_4","_hoisted_5","_hoisted_6","$data","merchandices","length","_hoisted_7","_Fragment","_renderList","merchandice","value","category","_hoisted_9","_normalizeStyle","colorCode","_hoisted_10","_hoisted_12","_hoisted_13","_toDisplayString","itemName","src","itemImage","alt","_hoisted_14","price","display","_hoisted_15","$event","toggleDisplay","_hoisted_16","_hoisted_17","_hoisted_18","edit","_hoisted_19","removeItem","_hoisted_20","_hoisted_8","_createCommentVNode","data","mounted","this","getItems","$emit","emits","methods","Ajax","then","res","json","merch","rows","document","querySelectorAll","convArrRows","map","call","elm","mrow","filter","querySelector","textContent","remove","item","__exports__","render"],"sourceRoot":""}
"use strict";(self["webpackChunktableorder4"]=self["webpackChunktableorder4"]||[]).push([[384],{5384:function(t,e,r){r.r(e),r.d(e,{default:function(){return v}});var l=r(6768),n=r(4232);const o={key:0,class:"cart"},a=(0,l.Lk)("tr",null,[(0,l.Lk)("th",null,"商品名"),(0,l.Lk)("th",null,"商品画像"),(0,l.Lk)("th",null,"単価"),(0,l.Lk)("th",null,"注文数"),(0,l.Lk)("th",null,"削除")],-1),u=["src","alt"],d=["id"],s=["onClick"],i={key:1},c=(0,l.Lk)("h2",{class:"no-order"},"まだカートに何も入っていません",-1),m=[c];function k(t,e,r,c,k,h){const p=(0,l.g2)("InputNumber");return r.orders.cart.length>0?((0,l.uX)(),(0,l.CE)("div",o,[(0,l.Lk)("table",null,[a,((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(r.orders.cart,((t,e)=>((0,l.uX)(),(0,l.CE)("tr",{key:e},[(0,l.Lk)("td",null,(0,n.v_)(t.item.merch_name),1),(0,l.Lk)("td",null,[(0,l.Lk)("img",{class:"cart-img",src:"/"+t.item.image,alt:t.item.merch_name},null,8,u)]),(0,l.Lk)("td",null,"¥"+(0,n.v_)(t.item.price),1),(0,l.Lk)("td",null,[(0,l.Lk)("div",{id:e},[(0,l.bF)(p,{modelValue:t.amount,"onUpdate:modelValue":e=>t.amount=e,inputId:"minmax-buttons key"+e,mode:"decimal",showButtons:"",buttonLayout:"vertical",min:1,max:20,fluid:""},null,8,["modelValue","onUpdate:modelValue","inputId"])],8,d)]),(0,l.Lk)("td",null,[(0,l.Lk)("button",{type:"button",onClick:t=>h.removeOrder(e)},"削除",8,s)])])))),128))]),(0,l.Lk)("button",{class:"order-btn",type:"button",onClick:e[0]||(e[0]=(...t)=>h.doOrder&&h.doOrder(...t))},"注文する")])):((0,l.uX)(),(0,l.CE)("section",i,m))}var h=r(4821),p=r(1255),L={name:"CartField",components:{InputNumber:p.A},props:{orders:Object},methods:{removeOrder(t){const e=this.orders.cart,r=this.orders.cart.filter((e=>e!=this.orders.cart[t]));for(let l=t;l<e.length;l++)r[l]?e[l]=r[l]:e.pop()},doOrder(){const t=this.orders,e=t;e.orderTime=(new Date).toLocaleString(),e.table?((0,h.A)("/api/order","POST",this.orders).then((t=>{console.log(t)})),alert("注文が完了しました。"),this.$emit("resetCart")):alert("テーブル情報がありません。")}},emits:["resetCart","addData","getTable"]},b=r(1241);const C=(0,b.A)(L,[["render",k]]);var v=C}}]);
//# sourceMappingURL=384.js.map
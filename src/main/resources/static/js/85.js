"use strict";(self["webpackChunktableorder4"]=self["webpackChunktableorder4"]||[]).push([[85],{8085:function(t,n,e){e.r(n),e.d(n,{default:function(){return b}});var s=e(6768),r=e(4232);const u={key:0,class:"accounting-wrap"},i=(0,s.Lk)("h2",null,"会計",-1),o=(0,s.Lk)("tr",null,[(0,s.Lk)("th",null,"商品名"),(0,s.Lk)("th",null,"注文数"),(0,s.Lk)("th",null,"合計金額")],-1),l={key:1,class:"accounting-wrap"},a=(0,s.Lk)("section",null,[(0,s.Lk)("h2",null,"お会計待ちの状態です。"),(0,s.Lk)("p",null,"レジでお会計を行なってください。")],-1),c=[a];function d(t,n,e,a,d,h){return d.orders.length>0?((0,s.uX)(),(0,s.CE)("div",u,[i,(0,s.Lk)("table",null,[o,((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(d.orders,(t=>((0,s.uX)(),(0,s.CE)("tr",{key:t.name},[(0,s.Lk)("td",null,(0,r.v_)(t.name),1),(0,s.Lk)("td",null,(0,r.v_)(t.amount),1),(0,s.Lk)("td",null,"¥"+(0,r.v_)(t.price),1)])))),128))]),(0,s.Lk)("button",{type:"button",onClick:n[0]||(n[0]=(...t)=>h.finishOrder&&h.finishOrder(...t))},"会計を行う")])):d.isAccounting?((0,s.uX)(),(0,s.CE)("div",l,c)):(0,s.Q3)("",!0)}var h=e(4821),g={name:"UserAccounting",data(){return{orders:[],isAccounting:!1}},mounted(){this.getStatus(),setTimeout((()=>{this.isAccounting||this.getOrder()}),200)},methods:{getOrder(){const t=sessionStorage.getItem("table");t&&(0,h.A)(`/api/order/accounting/table/${t}`).then((t=>t.json())).then((t=>{this.orders=t}))},finishOrder(){const t=sessionStorage.getItem("table");t&&(0,h.A)(`/api/order/accounting/${t}`,"PUT"),this.orders=[],this.isAccounting=!0},getStatus(){const t=sessionStorage.getItem("table");t&&(0,h.A)(`/api/table/status/${t}`).then((t=>t.json())).then((t=>{"お会計待ち"===t.status?this.isAccounting=!0:this.isAccounting=!1}))}}},k=e(1241);const L=(0,k.A)(g,[["render",d]]);var b=L}}]);
//# sourceMappingURL=85.js.map
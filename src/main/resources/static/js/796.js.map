{"version":3,"file":"js/796.js","mappings":"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","sources":["webpack://tableorder4/./src/views/Regi/CategoryList.vue","webpack://tableorder4/./src/views/Regi/CategoryList.vue?6f42"],"sourcesContent":["<template>\n    <div class=\"category-wrap\">\n        <h1>カテゴリー設定</h1>\n        <div class=\"button-container\">\n            <button class=\"add-button\" @click=\"add\">追加する</button>\n        </div>\n        <div class=\"grid\">\n            <table id=\"categoryLayout\">\n                <thead>\n                    <tr>\n                        <th>カテゴリー名</th>\n                        <th>色</th>\n                        <th>表示</th>\n                        <th></th>\n                        <th></th>\n                    </tr>\n                </thead>\n                <tbody v-if=\"categorys.length > 0\">\n                    <tr v-for=\"(category, value) in categorys\" :key=\"value\" :id=\"value\">\n                        <td class=\"category-name\">{{ category.name }}</td>\n                        <td class=\"color-box-column\"><div class=\"color-box\" :style=\"'background-color:' + category.color + ';'\"></div></td>\n                        <td v-if=\"category.display\"><button class=\"display-btn\" @click=\"toggleDisplay(category)\">表示</button></td>\n                        <td v-else><button class=\"display-btn hide\" @click=\"toggleDisplay(category)\">非表示</button></td>\n                        <td><i class=\"fa-lg fa-solid fa-pen-to-square edit-button\" @click=\"edit(category)\"></i></td>\n                        <td><i class=\"fa-lg fa-solid fa-trash delete-button\" @click=\"removeItem(category)\"></i></td>\n                    </tr>\n                </tbody>\n            </table>\n        </div>\n    </div>\n</template>\n\n<script>\nimport Ajax from '@/lib/Ajax';\n\nexport default {\n    name: 'CategoryList',\n    data() {\n        return {\n            categorys: []\n        }\n    },\n    mounted() {\n        this.getCategorys();\n        this.$emit('setDisplay', 'category');\n        // document.querySelectorAll('.display-btn').forEach(elm => elm.addEventListener('click', this.toggleDisplay));\n        document.querySelectorAll('.delete-button').forEach(elm => elm.addEventListener('click', this.removeItem));\n    },\n    emits:[\n        'setDisplay',\n        'openPop',\n        'setData'\n    ],\n    methods: {\n\n        getCategorys() {\n            Ajax('/api/master/categorys')\n            .then(res => res.json())\n            .then(dat => this.categorys = dat);\n        },\n        /**\n         * \n         * PUT\n         * @param {*} e \n         */\n        toggleDisplay(cat) {\n            if(cat.display) {\n                cat.display = false;\n            } else {\n                cat.display = true;\n            }\n\n            Ajax('/api/master/categorys', 'PUT', cat);\n            this.getCategorys();\n        },\n\n        /**\n         * \n         * DELETE\n         * @param {*} e \n         */\n        removeItem(cat) {\n            const categorys = this.$el.querySelectorAll('.category-name');\n            const ctgrs = [].map.call(categorys, elm => elm);\n            \n            const ctgr = ctgrs.filter(elm => elm.textContent === cat.name)[0];\n            if(ctgr) {\n                ctgr.parentNode.remove();\n                Ajax('/api/master/categorys', 'DELETE', cat);\n                this.getCategorys();\n            }\n\n        },\n\n        edit(item) {\n            this.$emit('setData', item);\n            this.$emit('openPop');\n        },\n\n        add() {\n            this.$emit('setData', null);\n            this.$emit('openPop');\n        }\n    }\n}\n</script>\n","import { render } from \"./CategoryList.vue?vue&type=template&id=761ac6ee\"\nimport script from \"./CategoryList.vue?vue&type=script&lang=js\"\nexport * from \"./CategoryList.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","id","key","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","onClick","_cache","args","$options","add","_hoisted_4","_hoisted_5","_hoisted_6","$data","categorys","length","_hoisted_7","_Fragment","_renderList","category","value","_hoisted_9","_toDisplayString","name","_hoisted_10","style","_normalizeStyle","color","display","_hoisted_11","$event","toggleDisplay","_hoisted_12","_hoisted_13","_hoisted_14","edit","_hoisted_15","removeItem","_hoisted_16","_hoisted_8","_createCommentVNode","data","mounted","this","getCategorys","$emit","document","querySelectorAll","forEach","elm","addEventListener","emits","methods","Ajax","then","res","json","dat","cat","$el","ctgrs","map","call","ctgr","filter","textContent","parentNode","remove","item","__exports__","render"],"sourceRoot":""}
"use strict";(self["webpackChunktableorder4"]=self["webpackChunktableorder4"]||[]).push([[450],{1450:function(e,t,a){a.r(t),a.d(t,{default:function(){return mt}});var o=a(6768);const i={class:"register-wrap"},l={class:"view-wrap"};function s(e,t,a,s,n,p){const m=(0,o.g2)("SidebarField"),r=(0,o.g2)("RouterView"),d=(0,o.g2)("PopupField");return(0,o.uX)(),(0,o.CE)("div",i,[(0,o.bF)(m),(0,o.Lk)("div",l,[(0,o.bF)(r,{ref:"displays",onSetDisplay:p.setDisplay,onSetData:p.setData,onSetMethod:p.setMethod,onOpenPop:p.openPop},null,8,["onSetDisplay","onSetData","onSetMethod","onOpenPop"])]),(0,o.bF)(d,{ref:"popup",popType:n.display},null,8,["popType"])])}const n={class:"sidebar-wrapper"},p=(0,o.Lk)("figure",{class:"logo-img"},[(0,o.Lk)("img",{src:"/assets/img/logo.png",alt:"OneOrder",id:"logo"})],-1),m={class:"sidebar-list"},r={class:"sidebar-item"},d=(0,o.Lk)("i",{class:"ti ti-wallet"},null,-1),c={class:"sidebar-item"},u=(0,o.Lk)("i",{class:"ti ti-notebook"},null,-1),y={class:"sidebar-item"},b=(0,o.Lk)("i",{class:"ti ti-bowl"},null,-1),g={class:"sidebar-item"},k=(0,o.Lk)("i",{class:"ti ti-bookmark"},null,-1),D={class:"sidebar-item"},h=(0,o.Lk)("i",{class:"ti ti-desk"},null,-1);function L(e,t,a,i,l,s){const L=(0,o.g2)("RouterLink");return(0,o.uX)(),(0,o.CE)("div",n,[p,(0,o.Lk)("ul",m,[(0,o.Lk)("li",r,[(0,o.bF)(L,{class:"sidebar-btn",to:"/master/regi"},{default:(0,o.k6)((()=>[d,(0,o.eW)(" 会計 ")])),_:1})]),(0,o.Lk)("li",c,[(0,o.bF)(L,{class:"sidebar-btn",to:"/master/history"},{default:(0,o.k6)((()=>[u,(0,o.eW)(" 取引履歴 ")])),_:1})]),(0,o.Lk)("li",y,[(0,o.bF)(L,{class:"sidebar-btn",to:"/master/merchandice"},{default:(0,o.k6)((()=>[b,(0,o.eW)(" 商品一覧 ")])),_:1})]),(0,o.Lk)("li",g,[(0,o.bF)(L,{class:"sidebar-btn",to:"/master/category"},{default:(0,o.k6)((()=>[k,(0,o.eW)(" カテゴリ一覧 ")])),_:1})]),(0,o.Lk)("li",D,[(0,o.bF)(L,{class:"sidebar-btn",to:"/master/table"},{default:(0,o.k6)((()=>[h,(0,o.eW)(" テーブル一覧 ")])),_:1})])])])}var f={name:"SidebarField"},v=a(1241);const C=(0,v.A)(f,[["render",L]]);var w=C;const T={class:"popup-wrap"},F={key:0,id:"popup",class:"popup item-pop"},P={class:"popup-content"},X={key:0},E={key:1};function N(e,t,a,i,l,s){const n=(0,o.g2)("MerchPop"),p=(0,o.g2)("TablePop"),m=(0,o.g2)("CatPop");return(0,o.uX)(),(0,o.CE)("div",T,[s.isNeedPop()?((0,o.uX)(),(0,o.CE)("div",F,[(0,o.Lk)("div",P,[(0,o.Lk)("span",{class:"close-btn",onClick:t[0]||(t[0]=(...e)=>s.closePopup&&s.closePopup(...e))},"×"),a.popType.data?((0,o.uX)(),(0,o.CE)("h2",E,"編集")):((0,o.uX)(),(0,o.CE)("h2",X,"追加")),"items"===a.popType.name?((0,o.uX)(),(0,o.Wv)(n,{key:2,ref:"popView",item:a.popType.data},null,8,["item"])):"table"===a.popType.name?((0,o.uX)(),(0,o.Wv)(p,{key:3,ref:"popView",item:a.popType.data},null,8,["item"])):"category"===a.popType.name?((0,o.uX)(),(0,o.Wv)(m,{key:4,ref:"popView",item:a.popType.data},null,8,["item"])):(0,o.Q3)("",!0)])])):(0,o.Q3)("",!0)])}var O=a(5130);const S={class:"form-wrap"},V=(0,o.Lk)("label",{for:"tableName"},"テーブル名",-1),U=(0,o.Lk)("label",{for:"low-capacity"},"最低収容人数",-1),q=(0,o.Lk)("label",{for:"capacity"},"最大収容人数",-1),_={class:"form-row"},I=(0,o.Lk)("label",{for:"smoking"},"禁煙・喫煙",-1),J=(0,o.Lk)("option",{value:"禁煙"},"禁煙",-1),x=(0,o.Lk)("option",{value:"喫煙"},"喫煙",-1),A=[J,x],$=(0,o.Lk)("label",{for:"type"},"席タイプ",-1),W=(0,o.Lk)("option",{value:"テーブル"},"テーブル",-1),M=(0,o.Lk)("option",{value:"個室"},"個室",-1),j=(0,o.Lk)("option",{value:"カウンター"},"カウンター",-1),B=[W,M,j],R=(0,o.Lk)("p",null,"表示",-1),K=(0,o.Lk)("button",{type:"submit",class:"save-button"},"保存",-1),Q=(0,o.Lk)("label",{for:"tableName"},"テーブル名",-1),G=(0,o.Lk)("label",{for:"low-capacity"},"最低収容人数",-1),z=(0,o.Lk)("label",{for:"capacity"},"最大収容人数",-1),H=["min"],Y={class:"form-row"},Z=(0,o.Lk)("label",{for:"smoking"},"禁煙・喫煙",-1),ee=(0,o.Lk)("option",{value:"禁煙"},"禁煙",-1),te=(0,o.Lk)("option",{value:"喫煙"},"喫煙",-1),ae=[ee,te],oe=(0,o.Lk)("label",{for:"type"},"席タイプ",-1),ie=(0,o.Lk)("option",{value:"テーブル"},"テーブル",-1),le=(0,o.Lk)("option",{value:"個室"},"個室",-1),se=(0,o.Lk)("option",{value:"カウンター"},"カウンター",-1),ne=[ie,le,se],pe=(0,o.Lk)("p",null,"表示",-1),me=(0,o.Lk)("button",{type:"submit",class:"save-button"},"保存",-1);function re(e,t,a,i,l,s){return(0,o.uX)(),(0,o.CE)("div",S,[l.itemData?((0,o.uX)(),(0,o.CE)("form",{key:0,id:"editForm",onSubmit:t[7]||(t[7]=(0,O.D$)(((...e)=>s.updateData&&s.updateData(...e)),["prevent"]))},[V,(0,o.bo)((0,o.Lk)("input",{type:"text",id:"tableName",name:"tableName","onUpdate:modelValue":t[0]||(t[0]=e=>l.itemData.name=e),required:""},null,512),[[O.Jo,l.itemData.name]]),U,(0,o.bo)((0,o.Lk)("input",{type:"number",name:"lowcapacity",id:"low-capacity","onUpdate:modelValue":t[1]||(t[1]=e=>l.itemData.low_capacity=e)},null,512),[[O.Jo,l.itemData.low_capacity]]),q,(0,o.bo)((0,o.Lk)("input",{type:"number",name:"capacity",id:"capacity","onUpdate:modelValue":t[2]||(t[2]=e=>l.itemData.capacity=e)},null,512),[[O.Jo,l.itemData.capacity]]),(0,o.Lk)("div",_,[(0,o.Lk)("div",null,[I,(0,o.bo)((0,o.Lk)("select",{id:"smoking",name:"smoking","onUpdate:modelValue":t[3]||(t[3]=e=>l.itemData.smoking=e)},A,512),[[O.u1,l.itemData.smoking]])]),(0,o.Lk)("div",null,[$,(0,o.bo)((0,o.Lk)("select",{id:"type",name:"type","onUpdate:modelValue":t[4]||(t[4]=e=>l.itemData.type=e)},B,512),[[O.u1,l.itemData.type]])])]),R,l.itemData.display?((0,o.uX)(),(0,o.CE)("button",{key:0,type:"button",id:"display-toggle",class:"display-toggle active",onClick:t[5]||(t[5]=e=>s.btnToggle(l.itemData))},"ON")):((0,o.uX)(),(0,o.CE)("button",{key:1,type:"button",id:"display-toggle",class:"display-toggle",onClick:t[6]||(t[6]=e=>s.btnToggle(l.itemData))},"OFF")),K],32)):((0,o.uX)(),(0,o.CE)("form",{key:1,id:"editForm",onSubmit:t[15]||(t[15]=(0,O.D$)(((...e)=>s.sendData&&s.sendData(...e)),["prevent"]))},[Q,(0,o.bo)((0,o.Lk)("input",{type:"text",id:"tableName",name:"tableName","onUpdate:modelValue":t[8]||(t[8]=e=>l.tableData.name=e),required:""},null,512),[[O.Jo,l.tableData.name]]),G,(0,o.bo)((0,o.Lk)("input",{type:"number",name:"lowcapacity",id:"low-capacity","onUpdate:modelValue":t[9]||(t[9]=e=>l.tableData.low_capacity=e),min:"1"},null,512),[[O.Jo,l.tableData.low_capacity]]),z,(0,o.bo)((0,o.Lk)("input",{type:"number",name:"capacity",id:"capacity",min:l.tableData.low_capacity,"onUpdate:modelValue":t[10]||(t[10]=e=>l.tableData.capacity=e)},null,8,H),[[O.Jo,l.tableData.capacity]]),(0,o.Lk)("div",Y,[(0,o.Lk)("div",null,[Z,(0,o.bo)((0,o.Lk)("select",{id:"smoking",name:"smoking","onUpdate:modelValue":t[11]||(t[11]=e=>l.tableData.smoking=e)},ae,512),[[O.u1,l.tableData.smoking]])]),(0,o.Lk)("div",null,[oe,(0,o.bo)((0,o.Lk)("select",{id:"type",name:"type","onUpdate:modelValue":t[12]||(t[12]=e=>l.tableData.type=e)},ne,512),[[O.u1,l.tableData.type]])])]),pe,l.tableData.display?((0,o.uX)(),(0,o.CE)("button",{key:0,type:"button",id:"display-toggle",class:"display-toggle active",onClick:t[13]||(t[13]=e=>s.btnToggle(l.tableData))},"ON")):((0,o.uX)(),(0,o.CE)("button",{key:1,type:"button",id:"display-toggle",class:"display-toggle",onClick:t[14]||(t[14]=e=>s.btnToggle(l.tableData))},"OFF")),me],32))])}var de=a(4821),ce={name:"TablePop",data(){return{itemData:{},displayBool:!1,tempData:{},tableData:{}}},mounted(){this.tableData.name="",this.tableData.low_capacity=1,this.tableData.capacity=4,this.tableData.smoking="禁煙",this.tableData.type="テーブル",this.tableData.display=!1},methods:{setData(e){this.itemData=e?Object.assign({},this.itemData,e):null},btnToggle(e){e.display?e.display=!1:e.display=!0},sendData(){(0,de.A)("/api/master/tables","POST",this.tableData),window.location.reload()},updateData(){(0,de.A)("/api/master/tables","PUT",this.itemData),window.location.reload()}}};const ue=(0,v.A)(ce,[["render",re]]);var ye=ue,be=a(4232);const ge={class:"form-wrap"},ke=(0,o.Lk)("label",{for:"itemName"},"商品名",-1),De=(0,o.Lk)("label",{for:"category"},"カテゴリ",-1),he=["value"],Le=(0,o.Lk)("label",{for:"price"},"価格",-1),fe=(0,o.Lk)("label",{for:"itemImage"},"商品画像",-1),ve=(0,o.Lk)("small",{class:"stop"},"この機能は現在使用できません",-1),Ce=(0,o.Lk)("input",{type:"file",id:"itemImage",name:"itemImage",accept:"image/*",disabled:""},null,-1),we=(0,o.Lk)("p",null,"商品説明",-1),Te=(0,o.Lk)("p",null,"表示",-1),Fe=(0,o.Lk)("button",{type:"submit",class:"save-button"},"保存",-1),Pe=(0,o.Lk)("p",{class:"error-msg"},null,-1),Xe=(0,o.Lk)("label",{for:"itemName"},"商品名",-1),Ee=(0,o.Lk)("label",{for:"category"},"カテゴリ",-1),Ne=["value"],Oe=(0,o.Lk)("label",{for:"price"},"価格",-1),Se=(0,o.Lk)("label",{for:"itemImage"},"商品画像",-1),Ve=(0,o.Lk)("small",{class:"stop"},"この機能は現在使用できません",-1),Ue=(0,o.Lk)("input",{type:"file",id:"itemImage",name:"itemImage",accept:"image/*",disabled:""},null,-1),qe=(0,o.Lk)("p",null,"商品説明",-1),_e=(0,o.Lk)("p",null,"表示",-1),Ie=(0,o.Lk)("button",{type:"submit",class:"save-button"},"保存",-1),Je=(0,o.Lk)("p",{class:"error-msg"},null,-1);function xe(e,t,a,i,l,s){return(0,o.uX)(),(0,o.CE)("div",ge,[l.itemData?((0,o.uX)(),(0,o.CE)("form",{key:0,id:"editForm",method:"POST",onSubmit:t[6]||(t[6]=(0,O.D$)(((...e)=>s.updateData&&s.updateData(...e)),["prevent"]))},[ke,(0,o.bo)((0,o.Lk)("input",{type:"text",id:"itemName",name:"itemName","onUpdate:modelValue":t[0]||(t[0]=e=>l.itemData.itemName=e),required:""},null,512),[[O.Jo,l.itemData.itemName]]),De,(0,o.bo)((0,o.Lk)("select",{id:"category",name:"category","onUpdate:modelValue":t[1]||(t[1]=e=>l.itemData.category_id=e),required:""},[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(l.categorys,((e,t)=>((0,o.uX)(),(0,o.CE)("option",{value:e.id,key:t},(0,be.v_)(e.name),9,he)))),128))],512),[[O.u1,l.itemData.category_id]]),Le,(0,o.bo)((0,o.Lk)("input",{type:"number",id:"price",name:"price","onUpdate:modelValue":t[2]||(t[2]=e=>l.itemData.price=e),required:""},null,512),[[O.Jo,l.itemData.price]]),fe,ve,Ce,we,(0,o.bo)((0,o.Lk)("textarea",{name:"description","onUpdate:modelValue":t[3]||(t[3]=e=>l.itemData.desc=e),id:"desc",cols:"30",rows:"10",maxlength:"512"},null,512),[[O.Jo,l.itemData.desc]]),Te,l.itemData.display?((0,o.uX)(),(0,o.CE)("button",{key:0,type:"button",id:"display-toggle",class:"display-toggle active",onClick:t[4]||(t[4]=e=>s.btnToggle(l.itemData))},"ON")):((0,o.uX)(),(0,o.CE)("button",{key:1,type:"button",id:"display-toggle",class:"display-toggle",onClick:t[5]||(t[5]=e=>s.btnToggle(l.itemData))},"OFF")),Fe,Pe],32)):((0,o.uX)(),(0,o.CE)("form",{key:1,id:"editForm",method:"POST",onSubmit:t[13]||(t[13]=(0,O.D$)(((...e)=>s.sendData&&s.sendData(...e)),["prevent"]))},[Xe,(0,o.bo)((0,o.Lk)("input",{type:"text",id:"itemName",name:"itemName","onUpdate:modelValue":t[7]||(t[7]=e=>l.merchData.name=e),required:""},null,512),[[O.Jo,l.merchData.name]]),Ee,(0,o.bo)((0,o.Lk)("select",{id:"category",name:"category","onUpdate:modelValue":t[8]||(t[8]=e=>l.merchData.category_id=e),required:""},[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(l.categorys,((e,t)=>((0,o.uX)(),(0,o.CE)("option",{value:e.id,key:t},(0,be.v_)(e.name),9,Ne)))),128))],512),[[O.u1,l.merchData.category_id]]),Oe,(0,o.bo)((0,o.Lk)("input",{type:"number",id:"price",name:"price","onUpdate:modelValue":t[9]||(t[9]=e=>l.merchData.price=e),required:""},null,512),[[O.Jo,l.merchData.price]]),Se,Ve,Ue,qe,(0,o.bo)((0,o.Lk)("textarea",{name:"description","onUpdate:modelValue":t[10]||(t[10]=e=>l.merchData.desc=e),id:"desc",cols:"30",rows:"10",maxlength:"512"},null,512),[[O.Jo,l.merchData.desc]]),_e,l.merchData.display?((0,o.uX)(),(0,o.CE)("button",{key:0,type:"button",id:"display-toggle",class:"display-toggle active",onClick:t[11]||(t[11]=e=>s.btnToggle(l.merchData))},"ON")):((0,o.uX)(),(0,o.CE)("button",{key:1,type:"button",id:"display-toggle",class:"display-toggle",onClick:t[12]||(t[12]=e=>s.btnToggle(l.merchData))},"OFF")),Ie,Je],32))])}var Ae={name:"MerchPop",data(){return{itemData:{},displayBool:!1,tempData:{},categorys:[],merchData:{}}},props:{item:Object},mounted(){this.merchData.name="",this.merchData.category_id=null,this.merchData.price=0,this.merchData.display=!1,this.merchData.desc="",this.merchData.image="assets/img/noimage.png",this.$el.querySelector("#itemImage").value=null,(0,de.A)("/api/master/categorys").then((e=>e.json())).then((e=>{this.categorys=e}))},methods:{setData(e){this.itemData=e?Object.assign({},this.itemData,e):null},btnToggle(e){e.display?e.display=!1:e.display=!0},sendData(){const e=document.querySelector("#itemImage"),t=e.files[0];if(t){this.merchData.image=`upload/img/${t.name}`;const e=new FormData;e.append("images",t,t.name);const a={method:"POST",body:e};fetch("/api/master/merchImage",a).then((e=>{if(413===e.status){const e=document.querySelector(".error-msg");e.textContent="画像ファイルの容量が大きすぎます",setTimeout((()=>{e.textContent=""}),3e3)}}))}(0,de.A)("/api/master/merchandices","POST",this.merchData),window.location.reload()},updateData(){const e=document.querySelector("#itemImage"),t={id:this.itemData.id,name:this.itemData.itemName,category:this.itemData.category_id,price:this.itemData.price,display:this.itemData.display,image:this.itemData.itemImage,desc:this.itemData.desc},a=e.files[0];if(a){t.image="upload/img/"+a.name;const e=new FormData;e.append("images",a),e.append("oldImage",this.itemData.itemImage);const o={method:"PUT",body:e};fetch("/api/master/merchImage",o).then((e=>{if(413===e.status){const e=document.querySelector(".error-msg");e.textContent="画像ファイルの容量が大きすぎます",setTimeout((()=>{e.textContent=""}),3e3)}}))}(0,de.A)("/api/master/merchandices","PUT",t),window.location.reload()}}};const $e=(0,v.A)(Ae,[["render",xe]]);var We=$e;const Me={class:"form-wrap"},je=(0,o.Lk)("label",{for:"categoryName"},"カテゴリー名",-1),Be=(0,o.Lk)("br",null,null,-1),Re=(0,o.Lk)("p",null,"色",-1),Ke=(0,o.Lk)("p",null,"表示",-1),Qe=(0,o.Lk)("button",{type:"submit",class:"save-button"},"保存",-1),Ge=(0,o.Lk)("label",{for:"categoryName"},"カテゴリー名",-1),ze=(0,o.Lk)("br",null,null,-1),He=(0,o.Lk)("label",{for:"categoryColor"},"色",-1),Ye=(0,o.Lk)("p",null,"表示",-1),Ze=(0,o.Lk)("button",{type:"submit",class:"save-button"},"登録",-1);function et(e,t,a,i,l,s){return(0,o.uX)(),(0,o.CE)("div",Me,[l.itemData?((0,o.uX)(),(0,o.CE)("form",{key:0,id:"editForm",onSubmit:t[4]||(t[4]=(0,O.D$)(((...e)=>s.updateData&&s.updateData(...e)),["prevent"]))},[je,(0,o.bo)((0,o.Lk)("input",{type:"text",id:"categoryName",name:"categoryName","onUpdate:modelValue":t[0]||(t[0]=e=>l.itemData.name=e),required:""},null,512),[[O.Jo,l.itemData.name]]),Be,Re,(0,o.bo)((0,o.Lk)("input",{type:"color",name:"categoryColor",id:"categoryColor","onUpdate:modelValue":t[1]||(t[1]=e=>l.itemData.color=e),required:""},null,512),[[O.Jo,l.itemData.color]]),Ke,l.itemData.display?((0,o.uX)(),(0,o.CE)("button",{key:0,type:"button",id:"display-toggle",class:"display-toggle active",onClick:t[2]||(t[2]=e=>s.btnToggle(l.itemData))},"ON")):((0,o.uX)(),(0,o.CE)("button",{key:1,type:"button",id:"display-toggle",class:"display-toggle",onClick:t[3]||(t[3]=e=>s.btnToggle(l.itemData))},"OFF")),Qe],32)):((0,o.uX)(),(0,o.CE)("form",{key:1,id:"editForm",onSubmit:t[9]||(t[9]=(0,O.D$)(((...e)=>s.sendData&&s.sendData(...e)),["prevent"]))},[Ge,(0,o.bo)((0,o.Lk)("input",{type:"text",id:"categoryName",name:"categoryName","onUpdate:modelValue":t[5]||(t[5]=e=>l.catData.name=e),required:""},null,512),[[O.Jo,l.catData.name]]),ze,He,(0,o.bo)((0,o.Lk)("input",{type:"color",name:"categoryColor",id:"categoryColor","onUpdate:modelValue":t[6]||(t[6]=e=>l.catData.color=e),required:""},null,512),[[O.Jo,l.catData.color]]),Ye,l.catData.display?((0,o.uX)(),(0,o.CE)("button",{key:0,type:"button",id:"display-toggle",class:"display-toggle active",onClick:t[7]||(t[7]=e=>s.btnToggle(l.catData))},"ON")):((0,o.uX)(),(0,o.CE)("button",{key:1,type:"button",id:"display-toggle",class:"display-toggle",onClick:t[8]||(t[8]=e=>s.btnToggle(l.catData))},"OFF")),Ze],32))])}var tt={name:"CatPop",data(){return{itemData:{},displayBool:!1,tempData:{},categorys:[],catData:{}}},props:{item:Object},mounted(){this.catData.name="",this.catData.color="#000000",this.catData.display=!1},methods:{setData(e){this.itemData=e?Object.assign({},this.itemData,e):null},btnToggle(e){e.display?e.display=!1:e.display=!0},sendData(){(0,de.A)("/api/master/categorys","POST",this.catData),window.location.reload()},updateData(){(0,de.A)("/api/master/categorys","PUT",this.itemData),window.location.reload()}}};const at=(0,v.A)(tt,[["render",et]]);var ot=at,it={name:"PopupField",components:{TablePop:ye,MerchPop:We,CatPop:ot},props:{popType:Object},methods:{showPopup(){const e=this.$el.querySelector(".popup");this.popType.data?this.$refs.popView.setData(this.popType.data):this.$refs.popView.setData(null),e.style.display="block"},isNeedPop(){const e=["table","items","category"];return e.some((e=>e===this.popType.name))},closePopup(){this.$el.querySelector(".popup").style.display=""}}};const lt=(0,v.A)(it,[["render",N]]);var st=lt,nt={name:"RegiMaster",components:{SidebarField:w,PopupField:st},data(){return{display:{name:"regi",data:null,method:"GET"}}},methods:{setDisplay(e){this.display.name=e},setData(e){this.display.data=e},setMethod(e){this.display.method=e},openPop(){this.$refs.popup.showPopup()},openPopWithData(e){this.setData(e),this.openPop()}}};const pt=(0,v.A)(nt,[["render",s]]);var mt=pt}}]);
//# sourceMappingURL=450.js.map
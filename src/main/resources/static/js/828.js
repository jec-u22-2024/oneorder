"use strict";(self["webpackChunktableorder4"]=self["webpackChunktableorder4"]||[]).push([[828],{3828:function(e,t,a){a.r(t),a.d(t,{default:function(){return B}});var s=a(6768),i=a(4232);const c={class:"order-list-wrap"},l={class:"itemList"},n=["onClick"],r=["src","alt"],d={class:"merch-name"};function o(e,t,a,o,m,u){const h=(0,s.g2)("Tab"),g=(0,s.g2)("TabList"),p=(0,s.g2)("TabPanel"),v=(0,s.g2)("TabPanels"),k=(0,s.g2)("Tabs"),b=(0,s.g2)("DialogField");return(0,s.uX)(),(0,s.CE)("div",c,[m.categoryList.length>=1?((0,s.uX)(),(0,s.Wv)(k,{key:0,value:m.categoryList[0].category_name,scrollable:""},{default:(0,s.k6)((()=>[(0,s.bF)(g,null,{default:(0,s.k6)((()=>[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(m.categoryList,(e=>((0,s.uX)(),(0,s.Wv)(h,{class:(0,i.C4)(e.name),key:e.category_id,value:e.category_name},{default:(0,s.k6)((()=>[(0,s.eW)((0,i.v_)(e.category_name),1)])),_:2},1032,["class","value"])))),128))])),_:1}),(0,s.bF)(v,{class:"orderList"},{default:(0,s.k6)((()=>[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(m.categoryList,(e=>((0,s.uX)(),(0,s.Wv)(p,{key:e.category_id,value:e.category_name},{default:(0,s.k6)((()=>[(0,s.Lk)("ul",l,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(e.items,(e=>((0,s.uX)(),(0,s.CE)("li",{class:"item",key:e.itemId,onClick:t=>u.send(e)},[(0,s.Lk)("img",{src:"/"+e.image,alt:e.merch_name,loading:"lazy"},null,8,r),(0,s.Lk)("p",d,(0,i.v_)(e.merch_name)+" ¥"+(0,i.v_)(e.price),1)],8,n)))),128))])])),_:2},1032,["value"])))),128))])),_:1})])),_:1},8,["value"])):(0,s.Q3)("",!0),(0,s.bF)(b,{data:m.data,ref:"dialog",onEmitSetData:u.emitSetData},null,8,["data","onEmitSetData"])])}var m=a(1807),u=a(3848),h=a(514),g=a(3441),p=a(8364),v=a(5130);const k={class:"dlg-wrap"},b={id:"dlg"},L={class:"dlg-img"},_=["src","alt"],y={class:"merch-name dlg-merch-name"},f=(0,s.Lk)("button",{class:"submit-btn",type:"submit"},"カートに入れる",-1),C={class:"desc-wrap"},D={id:"desc-dlg"};function S(e,t,a,c,l,n){const r=(0,s.g2)("InputNumber"),d=(0,s.g2)("DescField");return(0,s.uX)(),(0,s.CE)("div",k,[(0,s.Lk)("div",b,[(0,s.Lk)("div",{id:"dlg_btn_close",onClick:t[0]||(t[0]=(...e)=>n.hide&&n.hide(...e))},"×"),(0,s.Lk)("figure",L,[(0,s.Lk)("img",{src:"/"+n.getImg(a.data.image),alt:a.data.merch_name},null,8,_)]),(0,s.Lk)("p",y,(0,i.v_)(a.data.merch_name),1),(0,s.Lk)("button",{class:"desc-btn",type:"button",onClick:t[1]||(t[1]=(...e)=>n.descShow&&n.descShow(...e))},"desc"),(0,s.Lk)("form",{action:"/",onSubmit:t[3]||(t[3]=(0,v.D$)(((...e)=>n.send&&n.send(...e)),["prevent"]))},[(0,s.Lk)("div",null,[(0,s.bF)(r,{modelValue:l.amount,"onUpdate:modelValue":t[2]||(t[2]=e=>l.amount=e),inputId:"minmax-buttons",mode:"decimal",showButtons:"",min:1,max:20,fluid:""},null,8,["modelValue"])]),f],32)]),(0,s.Lk)("div",C,[(0,s.Lk)("div",D,[(0,s.Lk)("div",{id:"desc_btn_close",onClick:t[4]||(t[4]=(...e)=>n.descHide&&n.descHide(...e))},"×"),(0,s.bF)(d,{data:this.data},null,8,["data"])])])])}var I=a(1255);const F={class:"description"},w={key:0,class:"desc-sec"},E={class:"description-ttl"},$={class:"desc-text"},T={key:1,class:"desc-sec"},X=(0,s.Lk)("h1",{class:"description-ttl"},"Oops!",-1),A=(0,s.Lk)("p",{class:"desc-text"}," There is Nothing Description. Sorry and please press close button. ",-1),j=[X,A];function O(e,t,a,c,l,n){return(0,s.uX)(),(0,s.CE)("div",F,[a.data.desc?((0,s.uX)(),(0,s.CE)("section",w,[(0,s.Lk)("h1",E,(0,i.v_)(a.data.merch_name),1),(0,s.Lk)("p",$,(0,i.v_)(a.data.desc),1)])):((0,s.uX)(),(0,s.CE)("section",T,j))])}var q={name:"DescField",props:{data:Object}},x=a(1241);const P=(0,x.A)(q,[["render",O]]);var W=P,H={name:"DialogField",props:{data:Object},components:{InputNumber:I.A,DescField:W},data(){return{amount:1}},methods:{getImg(e){return null==e?"assets/img/noimage.png":e},show(){this.checkImage(),this.amount=1,this.$el.classList.add("active")},hide(){this.$el.classList.remove("active")},send(){const e={amount:this.amount,item:{merch_name:this.data.merch_name,merch_id:this.data.merch_id,price:this.data.price,image:this.data.image}};this.$emit("emitSetData",e),this.hide()},descShow(){this.$el.querySelector(".desc-wrap").classList.add("active")},descHide(){this.$el.querySelector(".desc-wrap").classList.remove("active")},checkImage(){const e=document.createElement("img");setTimeout((()=>{e.src="/"+this.data.image,e.onload=()=>{this.$el.querySelector(".desc-btn").classList.remove("no-img")},e.onerror=()=>{this.$el.querySelector(".desc-btn").classList.add("no-img")}}),50)}}};const K=(0,x.A)(H,[["render",S]]);var N=K,V=a(4821),U={name:"OrderList",components:{Tabs:m.A,TabList:u.A,Tab:h.A,TabPanels:g.A,TabPanel:p.A,DialogField:N},props:{orders:Object},mounted(){this.$primevue.config.ripple=!1,this.getData(),this.interval=setInterval(this.getData,5e3)},beforeUnmount(){this.interval&&clearInterval(this.interval)},data(){return{categoryList:[],data:{},cart:[],items:[],interval:null}},methods:{getData(){(0,V.A)("/api/order").then((e=>e.json())).then((e=>{this.categoryList=e}))},getCatData(e){fetch(`/api/order/${e}`).then((e=>e.json())).then((e=>{e.log?console.log(e.log):e.items&&console.log(e)}))},searchInData(e){this.cart.forEach((t=>{if(t.merch_id===e.merch_id)return t}))},getSlip(){let e;return e},send(e){this.data=e,this.$refs.dialog.show()},emitSetData(e){this.$emit("addData",e)},resetCart(){this.$emit("resetCart")}},emits:["emitSetData","addData","resetCart","setSlipId"]};const z=(0,x.A)(U,[["render",o]]);var B=z}}]);
//# sourceMappingURL=828.js.map